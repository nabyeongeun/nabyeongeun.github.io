---
categories: [Linux]
tags: [linux,jdk]
---

윈도우 같은 경우에는 JDK를 설치하고나서 환경변수 설정에 jdk 설치경로를 입력하는 작업을 한다. 마찬가지로 리눅스에서도 비슷한 작업을 해야하는데, 구글에다가 리눅스 톰캣 jdk 설정이라고 검색하면 대부분 환경설정을 세팅하는 방법을 알려준다.

그런데 그 환경설정을 설정하는 방법도 꽤나 성가신 부분이 있어서, 환경설정을 안하고 야매로 jdk설정을 주입하는 방법을 조사했다.

![1](/assets/post/2021-09-13/01.png)

톰캣을 설치하고 bin폴더에 들어가면 위와 같은 `catalina.sh` 파일이 있다. 해당 파일을 열어보면 대략 위와 같은 내용이 작성되어 있다.

이 떄 중요하게 볼 것은 `JAVA_HOME`이다. 환경변수를 설정할때 `JAVA_HOME`을 jdk설치 경로로 지정을 하는데, 위의 코드는 환경변수에서 `JAVA_HOME`으로 정의된 경로를 가져와서 사용하는 부분이라 볼 수 있다.
이 원리를 이해하면 환경변수 설정 없이 jdk설정을 할 수 있다.

![1](/assets/post/2021-09-13/02.png)

이런 식으로 `catalina.sh`파일 맨 위에다가 `JAVA_HOME`의 경로를 작성해 놓으면 환경변수로 설정한 `JAVA_HOME`의 값을 `catalina.sh`에서 덮어쓰기 때문에 환경변수로 설정한 값을 무시하고 재정의된 값을 사용하게 되므로 환경변수 없이 jdk경로 설정을 할 수 있다.  
해당 `JAVA_HOME=/home/~~~` 문장은 꼭 저 위치에 있을 필요는 없고 `JAVA_HOME`을 가져다가 쓰는 부분보다 위에만 있으면 된다.

특히 컴퓨터 한 대에 서버를 여러대 설치해야 하는 경우, 서버마다 jdk설정값이 다른 경우에 환경변수를 설정하는 것보다 이런식으로 야매로 처리하는게 더 편리할 수도 있다.
